# System Passcode Detection

The usage of biometry is a means of authentication without the need to fill in a PIN or password on a device. Besides being convenient, it also lowers the risk of PIN or password theft. PINs or passwords can be stolen by various means such as shoulder surfing.

Malwarelytics for Apple is able to detect whether a system biometry is enabled and when the system biometry configuration changes.

## Configuration

There's no configuration for the feature. 

## Usage 

After service creation, the system biometry detection feature can be accessed via `AppProtectionRasp`. This can be used to add a delegate or to trigger a manual system biometry detection check.

### Observing Detection

The system biometry detection can trigger an action when the biometry configuration changes. To achieve that, a delegate needs to be added.

Delegate configuration:

```swift
class RaspDelegate: AppProtectionRaspDelegate {

    // other delegate code

    func systemBiometryConfigurationChanged(enabled: Bool) {
        // handle system biometry configuration change detection
    }
}
```

The delegate can be added in `AppProtectionRasp`. When it is no longer needed, it can be removed again.

```swift
let raspDelegate = RaspDelegate()
appProtection.rasp.addDelegate(raspDelegate)
appProtection.rasp.removeDelegate(raspDelegate)
```

### Triggering a Manual Check

The system biometry detection check can be triggered manually in `AppProtectionRasp` by getting the `isSystemBiometryEnabled` property value. A simple `Bool` answer is given. 

```swift
let isSystemBiometryEnabled = appProtection.rasp.isSystemBiometryEnabled
```

<!-- begin box info -->

More information on general RASP feature configuration and usage can be found in [this overview](./RASP-Feature-Overview.md).

<!-- end -->
